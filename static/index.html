<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>游꿣 Royal Jackpot Slots</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Righteous&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
</head>

<body>

  <div class="app">
    <!-- M치quina de Slots -->
    <div class="slot-machine">
      <div class="reels-frame">
        <div class="grid" id="grid"></div>
      </div>
    </div>

    <!-- Controles -->
    <div class="controls">
      <div class="bet-control">
        <label>APUESTA</label>
        <input type="number" id="bet" value="10" min="1" max="100">
      </div>

      <button class="btn-auto" id="autoBtn">
        <span>AUTO</span>
        <span class="auto-status">OFF</span>
      </button>
    </div>

  </div>

  <!-- Palanca lateral -->
  <div class="lever-container" id="leverContainer">
    <div class="lever-arm" id="leverArm">
      <div class="lever-handle"></div>
    </div>
  </div>

  </div>
  </div>

  <script>
    // ==================== VERIFICACI칍N DE AUTENTICACI칍N ====================
    const token = localStorage.getItem('token');
    if (!token) {
      window.location.href = '/static/login.html';
    }
  </script>

  <script>
    // ==================== MEDIDAS DE SEGURIDAD ====================

    // Protecci칩n contra clic derecho y men칰 contextual
    document.addEventListener('contextmenu', e => {
      e.preventDefault();
      return false;
    });

    // Prevenir selecci칩n de texto
    document.addEventListener('selectstart', e => {
      e.preventDefault();
      return false;
    });

    // Prevenir copiar
    document.addEventListener('copy', e => {
      e.preventDefault();
      return false;
    });

    // Prevenir cortar
    document.addEventListener('cut', e => {
      e.preventDefault();
      return false;
    });

    // Prevenir pegar (por seguridad adicional)
    document.addEventListener('paste', e => {
      e.preventDefault();
      return false;
    });

    // Prevenir arrastrar elementos
    document.addEventListener('dragstart', e => {
      e.preventDefault();
      return false;
    });

    // Deshabilitar teclas de inspecci칩n, zoom y herramientas de desarrollo
    document.addEventListener('keydown', e => {
      // F12 - Herramientas de desarrollo
      if (e.key === 'F12' || e.keyCode === 123) {
        e.preventDefault();
        return false;
      }

      // Ctrl+Shift+I / Cmd+Option+I (Inspeccionar elemento)
      if ((e.ctrlKey || e.metaKey) && e.shiftKey && (e.key === 'I' || e.key === 'i')) {
        e.preventDefault();
        return false;
      }

      // Ctrl+Shift+J / Cmd+Option+J (Consola de JavaScript)
      if ((e.ctrlKey || e.metaKey) && e.shiftKey && (e.key === 'J' || e.key === 'j')) {
        e.preventDefault();
        return false;
      }

      // Ctrl+Shift+C / Cmd+Option+C (Selector de elementos)
      if ((e.ctrlKey || e.metaKey) && e.shiftKey && (e.key === 'C' || e.key === 'c')) {
        e.preventDefault();
        return false;
      }

      // Ctrl+Shift+K / Cmd+Option+K (Consola en Firefox)
      if ((e.ctrlKey || e.metaKey) && e.shiftKey && (e.key === 'K' || e.key === 'k')) {
        e.preventDefault();
        return false;
      }

      // Ctrl+U / Cmd+U (Ver c칩digo fuente de la p치gina)
      if ((e.ctrlKey || e.metaKey) && (e.key === 'u' || e.key === 'U')) {
        e.preventDefault();
        return false;
      }

      // Ctrl+S / Cmd+S (Guardar p치gina)
      if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'S')) {
        e.preventDefault();
        return false;
      }

      // Ctrl+P / Cmd+P (Imprimir)
      if ((e.ctrlKey || e.metaKey) && (e.key === 'p' || e.key === 'P')) {
        e.preventDefault();
        return false;
      }

      // Prevenir zoom con teclado: Ctrl/Cmd + Plus/Minus/0
      if (e.ctrlKey || e.metaKey) {
        // Ctrl+Plus, Ctrl+=
        if (e.key === '+' || e.key === '=' || e.keyCode === 187 || e.keyCode === 107) {
          e.preventDefault();
          return false;
        }
        // Ctrl+Minus, Ctrl+_
        if (e.key === '-' || e.key === '_' || e.keyCode === 189 || e.keyCode === 109) {
          e.preventDefault();
          return false;
        }
        // Ctrl+0 (Reset zoom)
        if (e.key === '0' || e.keyCode === 48 || e.keyCode === 96) {
          e.preventDefault();
          return false;
        }
      }
    });

    // Prevenir zoom con rueda del mouse + Ctrl/Cmd
    document.addEventListener('wheel', e => {
      if (e.ctrlKey || e.metaKey) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    }, { passive: false });

    // Prevenir zoom t치ctil (pinch to zoom en m칩viles/tablets)
    let lastTouchDistance = 0;
    document.addEventListener('touchstart', e => {
      if (e.touches.length > 1) {
        lastTouchDistance = Math.hypot(
          e.touches[0].pageX - e.touches[1].pageX,
          e.touches[0].pageY - e.touches[1].pageY
        );
      }
    }, { passive: false });

    document.addEventListener('touchmove', e => {
      if (e.touches.length > 1) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    }, { passive: false });

    // Prevenir gestos t치ctiles de zoom
    document.addEventListener('gesturestart', e => {
      e.preventDefault();
      return false;
    });

    document.addEventListener('gesturechange', e => {
      e.preventDefault();
      return false;
    });

    document.addEventListener('gestureend', e => {
      e.preventDefault();
      return false;
    });

    // Detectar si las herramientas de desarrollo est치n abiertas (m칠todo adicional)
    const devtoolsDetector = () => {
      const threshold = 160;
      const widthThreshold = window.outerWidth - window.innerWidth > threshold;
      const heightThreshold = window.outerHeight - window.innerHeight > threshold;

      if (widthThreshold || heightThreshold) {
        // Las DevTools podr칤an estar abiertas
        document.body.innerHTML = '';
      }
    };

    // Ejecutar detector peri칩dicamente (opcional - puede ser agresivo)
    // setInterval(devtoolsDetector, 1000);

    // Prevenir debug con debugger
    setInterval(() => {
      // Este c칩digo hace m치s dif칤cil usar debugger
      (function () {
        return false;
      }['constructor']('debugger')());
    }, 50);

    // Mensaje de advertencia en consola
    console.log('%c丘멆잺 ADVERTENCIA DE SEGURIDAD', 'color: red; font-size: 30px; font-weight: bold;');
    console.log('%cEsta es una zona restringida. El acceso no autorizado est치 prohibido.', 'color: orange; font-size: 16px;');
  </script>
  <script src="/static/sounds.js"></script>
  <script src="/static/app.js"></script>
</body>

</html>